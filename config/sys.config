[

    {lager, [
        {handlers, [
            {lager_file_backend, [{file, "/var/log/logger_test/lager.erl.log"},
                {level, info}, {formatter, lager_default_formatter}, {formatter_config, [date, " ", time, " [", severity, "] ", pid, " ", message, "\n"]}]}
        ]}
    ]},


    {kernel, [
        {logger_level, debug},
        {logger, [
            %% Console logger
            {handler, default, logger_std_h,
                #{level => debug,
                    formatter => {logger_formatter , #{single_line => true}}}
            },

            %% Disk logger for debug
            {handler, disk_log, logger_disk_log_h,
                #{config => #{
                    file => "/var/log/logger_test/logger.erl.log",
                    type => wrap,
                    max_no_files => 10,
                    max_no_bytes => 512000 % 10 x 5mb
                },
                    level => debug,
                    formatter => {logger_formatter , #{single_line => true, max_size => 256}}}
            }
            ]
        }
    ]}

].
